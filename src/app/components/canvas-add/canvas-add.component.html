<div class="marginBottom">
  <h2>Add Item</h2>
  <app-radio-material-type (typeEmitter)=onClickRadioButton($event)></app-radio-material-type>
  <div>
    <h4>Supplier</h4>
    <div class="row">
      <p *ngIf="type ==''">Please select type of material</p>
      <div class="progress" *ngIf="prestige.supplierCheckBox.length == 0  && type !=''">
        <div class="indeterminate"></div>
      </div>
      <div class="row">
        <div class="col s3" *ngFor="let s of prestige.supplierCheckBox">
          <p (click)="onClickCheckBox(s, $event, 'supplier')">
            <label>
              <input type="checkbox"  [(ngModel)]="s.isCheck"/>
              <span>{{ s.name }}</span>
            </label>
          </p>
          <div class="row" *ngIf="this.typeKey == '-LfrXIbaYI6yVn0Ya45_'">
            <div *ngFor="let c of s.colors" class="input-field col s6">
              <input [attr.id]="s.key+c.key" type="text" class="validate" [disabled]="!s.isCheck"
              [(ngModel)]="c.discount">
              <label [attr.for]="s.key+c.key">{{ c.name }}</label>
            </div>
          </div>
        </div>
      </div>
      <div class="row right-align" *ngIf="this.type == 'Aluminum'">
        <a class="waves-effect waves-light btn yellow darken-2"
        (click)="onClickUpdateDiscounts(prestige.supplierCheckBox)">update discounts</a>
      </div>
    </div>
    <hr>
    <h4>Section</h4>
    <div class="row">
      <p *ngIf="type ==''">Please select type of material</p>
      <div class="progress" *ngIf="prestige.sectionCheckBox.length == 0  && type !=''">
        <div class="indeterminate"></div>
      </div>
      <div class="col s3" *ngFor="let s of prestige.sectionCheckBox">
        <p (click)="onClickCheckBox(s, $event, 'section')">
          <label>
            <input type="checkbox"  [(ngModel)]="s.isCheck"/>
            <span>{{ s.name }}</span>
          </label>
        </p>
      </div>
    </div>
    <hr>
    <h4>Color</h4>
    <div class="row">
      <p *ngIf="type ==''">Please select type of material</p>
      <div class="progress" *ngIf="prestige.colorCheckBox.length == 0  && type !='' && this.type != 'Accessories'">
        <div class="indeterminate"></div>
      </div>
      <div class="col s3" *ngFor="let s of prestige.colorCheckBox">
        <p (click)="onClickCheckBox(s, $event, 'color')">
          <label>
            <input type="checkbox"  [(ngModel)]="s.isCheck"/>
            <span>{{ s.name }}</span>
          </label>
        </p>
      </div>
    </div>
  </div>
  
  <!-- <div class="row">
    <div class="col s3 input-field">
      <p>Supplier</p>
      
      <app-dropdown-color (color)="onSelectSupplier($event)" 
      [dropdownData]=" 
      type == 'Aluminum' ? prestige.dropdownSupplier : 
      type == 'Glass' ? prestige.dropdownSupplierGlass : prestige.dropdownSupplierAccessories
      "></app-dropdown-color>
    </div>
    <div class="col s3 input-field">
      <p>section</p>
      <app-dropdown-color (color)="onSelectSection($event)" 
      [dropdownData]="type == 'Aluminum' ? prestige.dropdownSection : 
      type == 'Glass' ? prestige.dropdownSectionGlass : prestige.dropdownSectionAccesories"></app-dropdown-color>
    </div>
    <div class="col s3 input-field" *ngIf="type == 'Aluminum' || type == 'Glass'">
      <p>
        {{type == 'Aluminum' ? 'color' : type == 'Glass' ? 'type' : ''}}
      </p>
      <app-dropdown-color (color)="onClickColor($event)" 
      [dropdownData]="type == 'Aluminum' ? prestige.dropdownColor : 
      type == 'Glass' ? prestige.dropdownGlassType : prestige.dropdownColor "></app-dropdown-color>
    </div>
  </div> -->
  <div class="row" *ngFor="let m of prestige.materials; let i = index">
    <div class="input-field col s3">
      <input [attr.id]="i+'m'" [(ngModel)]="m.name" type="text" class="validate">
      <label [attr.for]="i+'m'">Material Name</label>
    </div>
    <div class="input-field col s3">
      <input [attr.id]="i+'p'" [(ngModel)]="m.price" type="number" step="0.01" class="validate">
      <label [attr.for]="i+'p'">Price</label>
    </div>
    <div class="input-field col s3" *ngIf="type == 'Accessories'">
      <input [attr.id]="i+'d'" [(ngModel)]="m.discount" type="number" step="1" class="validate">
      <label [attr.for]="i+'d'">Discount</label>
    </div>
    <div class="col s2 close">
    <a (click)="onClickClose(i)" 
    class="waves-effect waves-light btn red z-depth-0"><i class="material-icons ">close</i></a>
    </div>
  </div>
  <div class="row right-align">
    <div class="col s12">
      <a class="btn-floating btn-large waves-effect waves-light orange darken-4 tooltipped" 
      data-position="left" 
      data-tooltip="click to set material name and price"
      (click)="onClickAddMaterial()"><i class="material-icons">add</i></a>
    </div>
  </div>
  <div class="row right-align">
    <div class="col s12">
        <a class="waves-effect waves-light btn"
        (click)="onClickSaveMaterial()">
          <i class="material-icons right">save</i>
          Save material
        </a>
    </div> 
  </div>
</div>